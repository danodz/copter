package  {	import flash.display.Sprite;	import flash.display.Graphics;	import flash.display.SimpleButton;	import flash.display.Shape;	import flash.display.MovieClip;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.events.KeyboardEvent;	import flash.ui.Mouse;		import flash.events.TimerEvent;	import flash.utils.Timer;		public class EcranTitre extends Sprite	{		private var copterTxt : TextField;		private var pointagePrecedentTxt : TextField;				private var pointage : int;				private var largeur : int;		private var hauteur : int;				private var commencer : SimpleButton;				public var perso : Perso;				private var pieceMenuTimer : Timer;				public function EcranTitre(pointage:int, largeur : int, hauteur : int)		{			Mouse.show();						//attribution des variables reçu en paramètre			this.pointage = pointage			this.largeur = largeur;			this.hauteur = hauteur;						//création et définition du timer qui gère le mini-jeu du menu			pieceMenuTimer = new Timer(2000, 10)			pieceMenuTimer.addEventListener(TimerEvent.TIMER, placerPieceMenu);            pieceMenuTimer.addEventListener(TimerEvent.TIMER_COMPLETE, changerPieceMenu);			pieceMenuTimer.start();						//Le texte du titre du jeu			copterTxt = new TextField();			copterTxt.defaultTextFormat = new TextFormat('Verdana', 50);			copterTxt.x = 200;			copterTxt.y = 50;			copterTxt.width = 175;			copterTxt.text = "Copter";			addChild(copterTxt);						//le texte qui affiche le pointage de la partie précédente			pointagePrecedentTxt = new TextField();			pointagePrecedentTxt.defaultTextFormat = new TextFormat('Verdana', 20);			pointagePrecedentTxt.x = 50;			pointagePrecedentTxt.y = 25;			pointagePrecedentTxt.width = 500;			pointagePrecedentTxt.text = "Pointage de la dernière partie : " + String(pointage);			addChild(pointagePrecedentTxt);						//création du personnage du mini-jeu du menu			perso = new Perso();			addChild(perso);						//le bouton pour commencer à jouer			commencer = new Commencer();			commencer.x = 175;			commencer.y = 160;			commencer.addEventListener(MouseEvent.CLICK, debuterJeu)			addChild(commencer);						//des lignes qui montrent ou est-ce que le personnage peut marcher			var sol : Shape = new Shape();			addChild(sol);			sol.graphics.lineStyle(5, 0x000000, 1);			sol.graphics.moveTo(0, 368);			sol.graphics.lineTo(largeur, 368);						var dessusCommencer : Shape = new Shape();			addChild(dessusCommencer);			sol.graphics.lineStyle(5, 0x000000, 1);			sol.graphics.moveTo(175, 160);			sol.graphics.lineTo(383, 160);					}				//fonction qui lance le jeu principal		public function debuterJeu(e : Event)		{			commencer.removeEventListener(MouseEvent.CLICK, debuterJeu);			(parent as Application).debuterJeu();		}				//fonction affectée par le timer qui place les pièces du mini-jeu		private function placerPieceMenu(e : Event)		{			var piece : PieceMenu = new PieceMenu();			piece.stop();			piece.x = Math.floor(Math.random() * largeur);			piece.y = Math.floor(Math.random() * 350);			addChild(piece);		}				//fonction affectée par le timer qui change la couleur de toutes les pièces		//lorsque le timer termine toutes ses répétitions		private function changerPieceMenu(e : Event)		{			for(var i = 0; i < numChildren; i++) if(getChildAt(i) is PieceMenu && (getChildAt(i) as MovieClip).currentFrame == 1)			{				(getChildAt(i) as MovieClip).gotoAndStop(3);			}		}	}	}