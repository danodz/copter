package  {	import flash.display.Sprite;	import flash.events.KeyboardEvent;	import flash.events.Event;		public class Application extends Sprite	{		private var jeu : Jeu;		private var ecranTitre : EcranTitre;				private var etatJeu : String = "menu"						public function Application() 		{			//placement du menu principal à l'ouverture			ecranTitre = new EcranTitre(0, stage.stageWidth, stage.stageHeight);			addChild(ecranTitre);						//le gestionnaire d'évènement pour le personnage			stage.addEventListener(KeyboardEvent.KEY_DOWN, ecranTitre.perso.etablirDirections);			stage.addEventListener(KeyboardEvent.KEY_UP, ecranTitre.perso.etablirDirections);						addEventListener(Event.ENTER_FRAME, update);		}				private function update(e : Event)		{			//appel des fonctions principales selon que l'on sois au menu ou en jeu			//en jeux			if(etatJeu == "enJeu")			{				jeu.update();				jeu.murUpdate();			}						//menu			if(etatJeu == "menu")			{				ecranTitre.perso.update();			}		}		//fonction débute le jeu		public function debuterJeu()		{			removeChild(ecranTitre);						jeu = new Jeu();			etatJeu = "enJeu";						stage.focus = this;			addChild(jeu);						stage.addEventListener(KeyboardEvent.KEY_DOWN, jeu.copter.etablirDirections);			stage.addEventListener(KeyboardEvent.KEY_UP, jeu.copter.etablirDirections);						stage.removeEventListener(KeyboardEvent.KEY_DOWN, ecranTitre.perso.etablirDirections);			stage.removeEventListener(KeyboardEvent.KEY_UP, ecranTitre.perso.etablirDirections);		}				//fonction qui retourne au menu principal		public function allerEcranTitre()		{			ecranTitre = new EcranTitre(jeu.pointage, stage.stageWidth, stage.stageHeight);			addChild(ecranTitre);						stage.removeEventListener(KeyboardEvent.KEY_DOWN, jeu.copter.etablirDirections);			stage.removeEventListener(KeyboardEvent.KEY_UP, jeu.copter.etablirDirections);						stage.addEventListener(KeyboardEvent.KEY_DOWN, ecranTitre.perso.etablirDirections);			stage.addEventListener(KeyboardEvent.KEY_UP, ecranTitre.perso.etablirDirections);						etatJeu = "menu";						removeChild(jeu);		}	}	}